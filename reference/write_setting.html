<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>write_setting — write_setting • rTIMESAT</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="write_setting — write_setting" />
<meta property="og:description" content="Write TIMESAT setting file." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rTIMESAT</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/kongdd/rTIMESAT/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>write_setting</h1>
    <small class="dont-index">Source: <a href='https://github.com/kongdd/rTIMESAT/blob/master/R/write_setting.R'><code>R/write_setting.R</code></a></small>
    <div class="hidden name"><code>write_setting.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Write TIMESAT setting file.</p>
    </div>

    <pre class="usage"><span class='fu'>write_setting</span><span class='op'>(</span><span class='va'>options</span>, file <span class='op'>=</span> <span class='st'>"TSM.set"</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>options</th>
      <td><p>List object, parameters of TIMESAT.</p></td>
    </tr>
    <tr>
      <th>file</th>
      <td><p>A character string naming a file</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The global paremteres are as follows:</p>
<dl>
 
<dt>version</dt><dd><p>TIMESAT Version: 3.3.</p></dd>
<dt>job_name</dt><dd><p>Character string that will be used to label output files from TIMESAT.</p></dd>
<dt>is_image</dt><dd><p>1 = image mode, 0 = ASCII file with time-series.</p></dd>
<dt>is_trend</dt><dd><p>1 = STL trend fitting activated. Overrules choice of fitting method (row 32)</p></dd>
<dt>has_QC</dt><dd><p>1 = use quality data, 0 = do not use quality data.</p></dd>

<dt>file_y</dt><dd><p>Running in image mode the user should prepare a file that 
on the first row gives the totalnumber N of vegetation index images and 
then the path and name of each of the N images.</p></dd>

<dt>file_qc</dt><dd><p>Relevant if quality data are used (specifications on rows 14–16). 
Running in image mode the user should prepare a file that on the first row 
gives the total number N of quality images and then the paths and names of 
the quality images. The file has the same structure as the file listing 
vegetation index images. The name, followed by <!-- %, of the prepared file should  -->
be supplied on row 7. Running sequential data the user should specify the 
ASCII file containing the quality data. If quality data are not used the user 
should simply input any dummy name.</p></dd>

<dt>image_type (image mode)</dt><dd><p>Relevant if in image mode. Please specify the data types 
of the images where 1 = 8-bit unsigned integer, 2 = 16-bit signed integer, 
3 = 32-bit real (see also section 10.15). If not in image mode the user may simply input the value 0.</p></dd>

<dt>byte_order (image mode)</dt><dd><p>Relevant if in image mode. Please specify the byte order 
where 0 = little endian byte order, 1 = big endian byte order (for 16-bit 
signed integers). If not in image mode the user may simply input the value 0.</p></dd>

<dt>image_dim (image mode)</dt><dd><p>Relevant if in image mode. Please specify the byte order 
where 0 = little endian byte order, 1 = big endian byte order (for 16-bit 
signed integers). If not in image mode the user may simply input the value 0.</p></dd>

<dt>win_process</dt><dd><p>Processing window (start row end row start col end col).</p></dd>
<dt>nyear_and_nptperear</dt><dd><p>No. years and no. points per year.</p></dd>

<dt>ylu</dt><dd><p>lower and upper boundary. Data outside the specified range will 
be assigned weight 0. By choosing these values carefully one may for example 
avoid that water pixels are processed.</p></dd>
 
<dt>qc_1</dt><dd><p>c(qc_min, qc_max, w_value)</p></dd>
<dt>qc_2</dt><dd><p>c(qc_min, qc_max, w_value)</p></dd>
<dt>qc_3</dt><dd><p>c(qc_min, qc_max, w_value)</p></dd>
<dt>A</dt><dd><p>Amplitude cutoff value. Amplitude lower than A will be ignored.</p></dd>

<dt>debug</dt><dd><p>Debug flag. 
<dl>
    <dt>0</dt><dd><p>do not print debug data (recommended).</p></dd>
    <dt>1</dt><dd><p>print certain debug parameters to the screen.</p></dd>
    <dt>2</dt><dd><p>print certain debug parameters to file debug2_jobname.</p></dd>
    <dt>3</dt><dd><p>if a crash occurs the position of the problematic time-series as 
well as the time-series itself is written to debug3_jobname.</p></dd></dl></p></dd>

<dt>output_type</dt><dd><p>(1/0 1/0 1/0), "1" means return, "0" means not.
1: seasonality data, 2: smoothed time-series, 3: original time-series.</p></dd>

<dt>has_lc</dt><dd><p>Boolean, Whether use land cover data?</p></dd>
<dt>file_lc</dt><dd><p>Character, the file path of land cover.</p></dd>

<dt>spike_meth</dt><dd><p>Numeric, the methods of spike remove. 
<dl>
    <dt>0</dt><dd><p>no spike detection.</p></dd>
    <dt>1</dt><dd><p>method based on median filtering as described in TIMESAT manual section 3.3.</p></dd>
    <dt>2</dt><dd><p>weights from STL-decomposition.</p></dd>
    <dt>3</dt><dd><p>weights from STL-decomposition (the full time-series is divided into a 
seasonal- and a trend component, data values that do not fit this pattern are assigned low 
weights, see Cleveland et al. 1990 for detailed information) multiplied with original weights.</p></dd></dl></p></dd>

<dt>spike_sd</dt><dd><p>Numeric, data values that differ from the median value by 
more than the <code>spike_sd</code> multiplied with the standard deviation of y and that 
are different from the left and right neighbors are removed (assigned weight 0). 
A normal setting of the spike value is 2.</p></dd>

<dt>stl_stiffness</dt><dd><p>STL stiffness value. This value regulates the stiffness of the STL trend
variable. The default is 3.0. A smaller value decreases stiffness, and a larger
value increases stiffness.</p></dd>

<dt>n_lcs</dt><dd><p>No. of land cover classes. Number of land cover classes. Relevant only
if a land cover map is used. If a land cover map is not used the user may put 1
in this entry.</p></dd>

<dt>lc_code</dt><dd><p>Land cover code for class 1. Land cover code for class 1.If there is no land
cover file or if processing sequential data in an ASCII file all time- series
will be processed with the parameter settings in rows 28–38, i.e. as if they
belonged to land cover class 1.</p></dd>

<dt>seasonpar</dt><dd><p>Seasonality parameter. This parameter guides how the secondary maximum in the
determination of the number of seasons is treated (see section 3.5). A value 1
of the parameter will force the program to treat all data as if there is one
season per year. A small value of the parameter will attempt to fit two seasons
a year. If there are images covering areas with both one and two vegetation
seasons, as may be the case for images on continental scale, it is advisable
to separate these areas in two different land cover classes using a high value
of the seasonality parameter for the class with one vegetation season and a low
value for the class with two vegetation seasons.</p></dd>

<dt>iters</dt><dd><p>No. of envelope iterations. The function fits can be made to approach the upper
envelope of the time-series in an iterative procedure (see section 3.4).
Specifying 1 for the number of envelope fits there is only one fit to data and
no adaptation to the envelope. Specifying 2 or 3 there are, respectively, one
and two additional fits where the weights of the values below the fitted curve
is decreased forcing the fitted function toward the upper envelope.</p></dd>

<dt>adapt</dt><dd><p>Adaptation strength. The adaptation strength is a number between 1 and 10
indicating the strength of the upper envelope adaptation. 10 gives the strongest
adaptation to the upper envelope and 1 gives no adaptation. Strong adaptation,
especially combined with 3 envelope iterations, may put too much emphasis on
single high data values leading to bad results. The adaptation strength needs to
be fine tuned for given data, but a normal adaptation value is around 2 and 3.</p></dd>

<dt>force_min</dt><dd><p>Force to minimum (1/0) and value of minimum. At northern or southern latitudes
time-series may during the dark season be affected by high sun zenith angles
and/or pertinent clouds, giving unphysically low values during long periods of
time. In these cases it may sometimes be useful to force the fitted function to
a user specified minimum (or off-season) value. This is done by giving 1 for the
first entry followed by the minimum value. If the user specifies 0 for the first
entry there will be no forcing to the minimum value.</p></dd>

<dt>FUN</dt><dd><p>Fitting method (3/2/1). Indicate fitting method. Which method to use is
determined by the properties of the time-series. Different methods can be used
for different land cover classes. If STL trend fitting is activated (row 4),
this overrides the fitting method setting.<dl>
    <dt>1</dt><dd><p>SavitzkyGolay filtering</p></dd>
    <dt>2</dt><dd><p>asymmetric Gaussian</p></dd>
    <dt>3</dt><dd><p>double logistic function</p></dd></dl></p></dd>

<dt>wFUN</dt><dd><p>Weight update method. Weight update method; not in use. The user may
simply input 1.</p></dd>

<dt>half_win</dt><dd><p>Window size for Savitzky-Golay If Savitzky-Golay filtering is used (see section
3.6) the half-window n needs to be set. This integer value should be seen in
relation to the total number data values during the year. A rough guide value is
around floor(nptperyear=4). A large value of the window gives a high degree of
smoothing, but affects the possibility to follow a rapid change in data in the
beginning of the growth season.</p></dd>

<dt>par_1</dt><dd><p>Reserved</p></dd>
<dt>par_2</dt><dd><p>Reserved</p></dd>

<dt>meth_pheno</dt><dd><p>Season start/end method (1/2/3/4). Method for defining the start/end of
seasons (see further explanations in section 4.3). 
For methods 3, 2 and 1, the threshold values for start and end respectively are specified on row 38.
<dl>
    <dt>1</dt><dd><p>seasonal amplitude</p></dd>
    <dt>2</dt><dd><p>absolute value</p></dd>
    <dt>3</dt><dd><p>relative amplitude</p></dd>
    <dt>4</dt><dd><p>STL trend</p></dd></dl></p></dd>

<dt>trs</dt><dd><p>Season start/end values. For start / end methods 3 and 1 please supply
the threshold values as a proportion of amplitude, ranging between 0 and 1. For
method 2 specify absolute values in data units. Not used for method 4 (supply
any values).</p></dd>


</dl>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>opt</span> <span class='op'>&lt;-</span> <span class='fu'>rTIMESAT</span><span class='fu'>:::</span><span class='va'>options_TSM</span>
<span class='fu'>write_setting</span><span class='op'>(</span><span class='va'>opt</span>, <span class='st'>'TSM.set'</span><span class='op'>)</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Dongdong Kong.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


